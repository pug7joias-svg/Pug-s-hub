--[[
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
    ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù 
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    üî• FPS FLICK V1.6 - Pug's HUB
    üë§ GitHub: github.com/pug7joias (ou seu repo)
    üìÖ Vers√£o: 1.6
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
]]--

-- Pug's HUB - FPS FLICK V1.6

getgenv().Pug = getgenv().Pug or {}

local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

if not WindUI then return end

-- Configura√ß√µes padr√£o
Pug.AimbotEnabled = false
Pug.WallCheck = false
Pug.SmoothAim = 5
Pug.FOVSize = 100
Pug.FOVEnabled = false
Pug.FOVColor = Color3.fromRGB(255, 0, 0)
Pug.SpeedEnabled = false
Pug.SpeedValue = 16
Pug.BunnyHopEnabled = false
Pug.SpinBotEnabled = false
Pug.SpinBotSpeed = 30
Pug.ThirdPersonEnabled = false
Pug.CustomFOVEnabled = false
Pug.CustomFOV = 70
Pug.HitSoundEnabled = false
Pug.HitSoundID = "rbxassetid://6534947240"
Pug.HitSoundVolume = 0.5
Pug.OriginalHitSounds = {}
Pug.ESPSettings = {
    Outline = {Enabled = false, Color = Color3.fromRGB(255, 255, 255)},
    Name = {Enabled = false, Color = Color3.fromRGB(255, 255, 0)},
    Skeleton = {Enabled = false, Color = Color3.fromRGB(255, 0, 0)},
    Tracer = {Enabled = false, Color = Color3.fromRGB(0, 255, 255)}
}

-- Tabela de sons do Hit Sound
Pug.HitSounds = {
    ["üîî Bell"] = "rbxassetid://6534947240",
    ["üíÄ Bameware"] = "rbxassetid://3124331820",
    ["üéØ Skeet"] = "rbxassetid://6937353691",
    ["üî´ Cod Hitmarker"] = "rbxassetid://160432334",
    ["‚ö° Neverlose"] = "rbxassetid://8679627751",
    ["üíé Minecraft"] = "rbxassetid://4018616850"
}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer
local Lighting = game:GetService("Lighting")

-- Fun√ß√£o para substituir Hit Sound CORRETAMENTE
function Pug.ReplaceHitSound(sound)
    if sound:IsA("Sound") and sound.Name == "HitSound" then
        if not Pug.OriginalHitSounds[sound] then
            Pug.OriginalHitSounds[sound] = sound.SoundId
        end
        
        if Pug.HitSoundEnabled then
            sound.SoundId = Pug.HitSoundID
            sound.Volume = Pug.HitSoundVolume
        else
            if Pug.OriginalHitSounds[sound] then
                sound.SoundId = Pug.OriginalHitSounds[sound]
            end
        end
    end
end

-- Aplicar nos sons existentes
function Pug.ReplaceAllHitSounds()
    for _, descendant in pairs(game:GetDescendants()) do
        Pug.ReplaceHitSound(descendant)
    end
end

-- Monitorar NOVOS sons adicionados ao jogo
game.DescendantAdded:Connect(function(descendant)
    if descendant:IsA("Sound") and descendant.Name == "HitSound" then
        wait(0.05)
        Pug.ReplaceHitSound(descendant)
    end
end)

-- Monitorar MUDAN√áAS no SoundId
game.DescendantAdded:Connect(function(descendant)
    if descendant:IsA("Sound") and descendant.Name == "HitSound" then
        descendant:GetPropertyChangedSignal("SoundId"):Connect(function()
            if Pug.HitSoundEnabled and descendant.SoundId ~= Pug.HitSoundID then
                descendant.SoundId = Pug.HitSoundID
            end
        end)
    end
end)

-- FOV Circle usando ScreenGui (COMPAT√çVEL COM MOBILE E PC)
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local FOVGui = Instance.new("ScreenGui")
FOVGui.Name = "Pug_FOVCircle"
FOVGui.ResetOnSpawn = false
FOVGui.IgnoreGuiInset = true
FOVGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
FOVGui.Parent = PlayerGui

local FOVCircleFrame = Instance.new("Frame")
FOVCircleFrame.Name = "Circle"
FOVCircleFrame.AnchorPoint = Vector2.new(0.5, 0.5)
FOVCircleFrame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
FOVCircleFrame.BackgroundTransparency = 1
FOVCircleFrame.BorderSizePixel = 0
FOVCircleFrame.Size = UDim2.new(0, 200, 0, 200)
FOVCircleFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
FOVCircleFrame.Visible = false
FOVCircleFrame.ZIndex = 999
FOVCircleFrame.Parent = FOVGui

local CircleStroke = Instance.new("UIStroke")
CircleStroke.Color = Color3.fromRGB(255, 0, 0)
CircleStroke.Thickness = 2
CircleStroke.Transparency = 0
CircleStroke.Parent = FOVCircleFrame

local CircleCorner = Instance.new("UICorner")
CircleCorner.CornerRadius = UDim.new(1, 0)
CircleCorner.Parent = FOVCircleFrame

Pug.FOVCircle = {
    Frame = FOVCircleFrame,
    Stroke = CircleStroke,
    Gui = FOVGui
}

-- Fun√ß√£o para pegar o player mais pr√≥ximo
function Pug.GetClosestPlayer()
    local ClosestPlayer = nil
    local ShortestDistance = math.huge

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local character = player.Character
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            local head = character:FindFirstChild("Head")
            local humanoid = character:FindFirstChild("Humanoid")

            if humanoidRootPart and head and humanoid and humanoid.Health > 0 then
                local screenPoint, onScreen = Camera:WorldToViewportPoint(head.Position)

                if onScreen then
                    local viewportCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
                    local distance = (Vector2.new(screenPoint.X, screenPoint.Y) - viewportCenter).Magnitude

                    if distance < Pug.FOVSize and distance < ShortestDistance then
                        if Pug.WallCheck then
                            local raycastParams = RaycastParams.new()
                            raycastParams.FilterDescendantsInstances = {LocalPlayer.Character}
                            raycastParams.FilterType = Enum.RaycastFilterType.Blacklist

                            local rayResult = workspace:Raycast(Camera.CFrame.Position, (head.Position - Camera.CFrame.Position).Unit * 1000, raycastParams)

                            if rayResult and rayResult.Instance and rayResult.Instance:IsDescendantOf(character) then
                                ClosestPlayer = player
                                ShortestDistance = distance
                            end
                        else
                            ClosestPlayer = player
                            ShortestDistance = distance
                        end
                    end
                end
            end
        end
    end

    return ClosestPlayer
end

-- Sistema ESP
Pug.ESPObjects = {}

function Pug.CreateESP(player)
    if Pug.ESPObjects[player] then return end
    Pug.ESPObjects[player] = {Outline = {}, Name = nil, Skeleton = {}, Tracer = nil}
end

function Pug.RemoveESP(player)
    if Pug.ESPObjects[player] then
        for _, obj in pairs(Pug.ESPObjects[player].Outline) do
            if obj then pcall(function() obj:Remove() end) end
        end
        for _, obj in pairs(Pug.ESPObjects[player].Skeleton) do
            if obj then pcall(function() obj:Remove() end) end
        end
        if Pug.ESPObjects[player].Name then pcall(function() Pug.ESPObjects[player].Name:Remove() end) end
        if Pug.ESPObjects[player].Tracer then pcall(function() Pug.ESPObjects[player].Tracer:Remove() end) end
        Pug.ESPObjects[player] = nil
    end
end

function Pug.SetupCharacterDeath(player)
    if player.Character then
        local humanoid = player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.Died:Connect(function()
                Pug.RemoveESP(player)
            end)
        end
    end
end

-- TEMA VERMELHO E PRETO COM GRADIENTE
WindUI:AddTheme({
    Name = "Pug Red & Black Theme",

    Accent = WindUI:Gradient({
        ["0"] = { Color = Color3.fromHex("#ff0000"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#000000"), Transparency = 0 },
    }, {
        Rotation = 45,
    }),

    Background = Color3.fromHex("#0a0a0a"),
    BackgroundTransparency = 0,

    Outline = WindUI:Gradient({
        ["0"] = { Color = Color3.fromHex("#ff0000"), Transparency = 0 },
        ["50"] = { Color = Color3.fromHex("#cc0000"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#990000"), Transparency = 0 },
    }, {
        Rotation = 90,
    }),

    Text = Color3.fromHex("#FFFFFF"),
    Placeholder = Color3.fromHex("#7a7a7a"),
    Button = Color3.fromHex("#1a1a1a"),
    Icon = Color3.fromHex("#ff0000"),
    Hover = Color3.fromHex("#ff0000"),

    WindowBackground = Color3.fromHex("#0a0a0a"),
    WindowShadow = Color3.fromHex("#000000"),

    DialogBackground = Color3.fromHex("#0a0a0a"),
    DialogBackgroundTransparency = 0,
    DialogTitle = Color3.fromHex("#FFFFFF"),
    DialogContent = Color3.fromHex("#FFFFFF"),
    DialogIcon = Color3.fromHex("#ff0000"),

    WindowTopbarButtonIcon = Color3.fromHex("#ff0000"),
    WindowTopbarTitle = Color3.fromHex("#FFFFFF"),
    WindowTopbarAuthor = Color3.fromHex("#ff0000"),
    WindowTopbarIcon = Color3.fromHex("#ff0000"),

    TabBackground = WindUI:Gradient({
        ["0"] = { Color = Color3.fromHex("#1a1a1a"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#0f0f0f"), Transparency = 0 },
    }, {
        Rotation = 0,
    }),
    TabTitle = Color3.fromHex("#FFFFFF"),
    TabIcon = Color3.fromHex("#ff0000"),

    ElementBackground = Color3.fromHex("#1a1a1a"),
    ElementTitle = Color3.fromHex("#FFFFFF"),
    ElementDesc = Color3.fromHex("#AAAAAA"),
    ElementIcon = Color3.fromHex("#ff0000"),

    PopupBackground = Color3.fromHex("#0a0a0a"),
    PopupBackgroundTransparency = 0,
    PopupTitle = Color3.fromHex("#FFFFFF"),
    PopupContent = Color3.fromHex("#FFFFFF"),
    PopupIcon = Color3.fromHex("#ff0000"),

    Toggle = Color3.fromHex("#1a1a1a"),
    ToggleBar = WindUI:Gradient({
        ["0"] = { Color = Color3.fromHex("#ff0000"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#cc0000"), Transparency = 0 },
    }, {
        Rotation = 0,
    }),

    Checkbox = Color3.fromHex("#1a1a1a"),
    CheckboxIcon = Color3.fromHex("#ff0000"),

    Slider = Color3.fromHex("#1a1a1a"),
    SliderThumb = WindUI:Gradient({
        ["0"] = { Color = Color3.fromHex("#ff0000"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#aa0000"), Transparency = 0 },
    }, {
        Rotation = 45,
    }),
})

Pug.Window = WindUI:CreateWindow({
    Title = "Pug's HUB | FPS FLICK üî•",
    Author = "pug7joias",
    Size = UDim2.new(0, 500, 0, 400),
    Theme = "Pug Red & Black Theme",
    Keybind = Enum.KeyCode.RightControl,
})

Pug.Window:Tag({
    Title = "Pug's HUB V1.6",
    Icon = "skull",
    Color = Color3.fromHex("#ff0000"),
    Radius = 0,
})

Pug.Window:EditOpenButton({
    Title = "Open Pug's HUB",
    Icon = "skull",
    CornerRadius = UDim.new(0, 16),
    StrokeThickness = 3,
    Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromHex("#ff0000")),
        ColorSequenceKeypoint.new(0.5, Color3.fromHex("#cc0000")),
        ColorSequenceKeypoint.new(1, Color3.fromHex("#000000"))
    }),
    Enabled = true,
    Draggable = true,
})

Pug.TabAimbot = Pug.Window:Tab({Title = "Aimbot", Icon = "crosshair"})
Pug.TabESP = Pug.Window:Tab({Title = "ESP", Icon = "eye"})
Pug.TabRage = Pug.Window:Tab({Title = "Rage", Icon = "zap"})
Pug.TabConfigs = Pug.Window:Tab({Title = "Configs", Icon = "settings"})

-- ============================================
-- ABA AIMBOT
-- ============================================

Pug.TabAimbot:Toggle({
    Title = "Ativar Aimbot",
    Description = "Mira automaticamente no alvo mais pr√≥ximo",
    Desc = "Detecta e mira no jogador mais pr√≥ximo dentro do FOV automaticamente",
    Default = false,
    Callback = function(v)
        Pug.AimbotEnabled = v
    end
})

Pug.TabAimbot:Toggle({
    Title = "Wall Check",
    Description = "Verifica paredes entre voc√™ e o alvo",
    Desc = "Ignora alvos que est√£o atr√°s de paredes ou obst√°culos s√≥lidos",
    Default = false,
    Callback = function(v) Pug.WallCheck = v end
})

Pug.TabAimbot:Slider({
    Title = "Suaviza√ß√£o (Smooth)",
    Desc = "Controla a suavidade da mira. Menor = mais grudento, Maior = mais suave",
    Step = 1,
    Value = {
        Min = 1,
        Max = 20,
        Default = 5,
    },
    Callback = function(value)
        Pug.SmoothAim = value
    end
})

Pug.TabAimbot:Toggle({
    Title = "Mostrar FOV",
    Description = "C√≠rculo vermelho mostrando alcance (Mobile + PC)",
    Desc = "Exibe um c√≠rculo visual que representa o alcance do aimbot na tela",
    Default = false,
    Callback = function(v)
        Pug.FOVEnabled = v
        Pug.FOVCircle.Frame.Visible = v
    end
})

Pug.TabAimbot:Slider({
    Title = "Tamanho do FOV",
    Desc = "Define o raio do c√≠rculo de alcance do aimbot (10 = pequeno, 300 = grande)",
    Step = 10,
    Value = {
        Min = 10,
        Max = 300,
        Default = 100,
    },
    Callback = function(value)
        Pug.FOVSize = value
        local size = value * 2
        Pug.FOVCircle.Frame.Size = UDim2.new(0, size, 0, size)
    end
})

Pug.TabAimbot:Colorpicker({
    Title = "Cor do FOV",
    Description = "Cor do c√≠rculo FOV",
    Desc = "Personalize a cor do c√≠rculo que representa o alcance do aimbot",
    Default = Color3.fromRGB(255, 0, 0),
    Callback = function(c)
        Pug.FOVColor = c
        Pug.FOVCircle.Stroke.Color = c
    end
})

for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        Pug.SetupCharacterDeath(player)
        player.CharacterAdded:Connect(function()
            Pug.RemoveESP(player)
            wait(0.5)
            Pug.SetupCharacterDeath(player)
        end)
    end
end

Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        Pug.SetupCharacterDeath(player)
    end)
end)

Players.PlayerRemoving:Connect(function(player)
    Pug.RemoveESP(player)
end)

-- ============================================
-- ABA ESP
-- ============================================

Pug.TabESP:Toggle({
    Title = "ESP Box",
    Description = "Caixas ao redor dos jogadores",
    Desc = "Desenha uma caixa 2D ao redor de cada jogador vis√≠vel na tela",
    Default = false,
    Callback = function(v) Pug.ESPSettings.Outline.Enabled = v end
})

Pug.TabESP:Colorpicker({
    Title = "Cor da Box",
    Description = "Cor das caixas",
    Desc = "Escolha a cor das caixas desenhadas ao redor dos jogadores",
    Default = Color3.fromRGB(255, 255, 255),
    Callback = function(c) Pug.ESPSettings.Outline.Color = c end
})

Pug.TabESP:Toggle({
    Title = "ESP Name",
    Description = "Nome + Dist√¢ncia acima dos jogadores",
    Desc = "Mostra o nome do jogador e a dist√¢ncia em metros acima da cabe√ßa",
    Default = false,
    Callback = function(v) Pug.ESPSettings.Name.Enabled = v end
})

Pug.TabESP:Colorpicker({
    Title = "Cor do Nome",
    Description = "Cor dos nomes",
    Desc = "Escolha a cor do texto exibido acima dos jogadores",
    Default = Color3.fromRGB(255, 255, 0),
    Callback = function(c) Pug.ESPSettings.Name.Color = c end
})

Pug.TabESP:Toggle({
    Title = "ESP Skeleton",
    Description = "Esqueleto dos jogadores",
    Desc = "Desenha linhas conectando as partes do corpo formando um esqueleto",
    Default = false,
    Callback = function(v) Pug.ESPSettings.Skeleton.Enabled = v end
})

Pug.TabESP:Colorpicker({
    Title = "Cor do Skeleton",
    Description = "Cor do esqueleto",
    Desc = "Escolha a cor das linhas que formam o esqueleto do jogador",
    Default = Color3.fromRGB(255, 0, 0),
    Callback = function(c) Pug.ESPSettings.Skeleton.Color = c end
})

Pug.TabESP:Toggle({
    Title = "ESP Tracer",
    Description = "Linhas at√© os jogadores",
    Desc = "Desenha uma linha da parte inferior da tela at√© cada jogador",
    Default = false,
    Callback = function(v) Pug.ESPSettings.Tracer.Enabled = v end
})

Pug.TabESP:Colorpicker({
    Title = "Cor do Tracer",
    Description = "Cor das linhas",
    Desc = "Escolha a cor das linhas que conectam voc√™ aos jogadores",
    Default = Color3.fromRGB(0, 255, 255),
    Callback = function(c) Pug.ESPSettings.Tracer.Color = c end
})

-- ============================================
-- ABA RAGE
-- ============================================

Pug.TabRage:Toggle({
    Title = "Speed Hack",
    Description = "Ativa a velocidade customizada",
    Desc = "Aumenta a velocidade de movimento do seu personagem",
    Default = false,
    Callback = function(v)
        Pug.SpeedEnabled = v
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = v and Pug.SpeedValue or 16
        end
    end
})

Pug.TabRage:Slider({
    Title = "Valor da Velocidade",
    Desc = "Define a velocidade de movimento (16 = padr√£o, 25 = m√°ximo seguro)",
    Step = 1,
    Value = {
        Min = 16,
        Max = 25,
        Default = 16,
    },
    Callback = function(value)
        Pug.SpeedValue = value
        if Pug.SpeedEnabled then
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("Humanoid") then
                char.Humanoid.WalkSpeed = value
            end
        end
    end
})

Pug.TabRage:Toggle({
    Title = "BunnyHop",
    Description = "Pula automaticamente",
    Desc = "Faz seu personagem pular continuamente enquanto se move",
    Default = false,
    Callback = function(v) Pug.BunnyHopEnabled = v end
})

Pug.TabRage:Toggle({
    Title = "SpinBot",
    Description = "Gira o personagem continuamente",
    Desc = "Faz seu personagem girar automaticamente (bom para desviar de tiros)",
    Default = false,
    Callback = function(v) Pug.SpinBotEnabled = v end
})

Pug.TabRage:Slider({
    Title = "Velocidade do Spin",
    Desc = "Define a velocidade de rota√ß√£o do SpinBot (10 = devagar, 50 = r√°pido)",
    Step = 5,
    Value = {
        Min = 10,
        Max = 50,
        Default = 30,
    },
    Callback = function(value)
        Pug.SpinBotSpeed = value
    end
})

Pug.TabRage:Toggle({
    Title = "Third Person",
    Description = "Ativa vis√£o em terceira pessoa",
    Desc = "Muda a c√¢mera para terceira pessoa (ON) ou primeira pessoa (OFF)",
    Default = false,
    Callback = function(v)
        Pug.ThirdPersonEnabled = v
        if v then
            LocalPlayer.CameraMode = Enum.CameraMode.Classic
            LocalPlayer.CameraMaxZoomDistance = 15
            LocalPlayer.CameraMinZoomDistance = 10
        else
            LocalPlayer.CameraMode = Enum.CameraMode.LockFirstPerson
        end
    end
})

Pug.TabRage:Slider({
    Title = "Campo de Vis√£o (FOV)",
    Desc = "Altera o campo de vis√£o da c√¢mera (60 = padr√£o, 300 = ultra wide)",
    Step = 10,
    Value = {
        Min = 60,
        Max = 300,
        Default = 70,
    },
    Callback = function(value)
        Pug.CustomFOV = value
        Pug.CustomFOVEnabled = true
    end
})

-- ============================================
-- ABA CONFIGS
-- ============================================

-- FPS Counter
Pug.FPSText = Drawing.new("Text")
Pug.FPSText.Size = 20
Pug.FPSText.Center = false
Pug.FPSText.Outline = true
Pug.FPSText.Color = Color3.fromRGB(255, 0, 0)
Pug.FPSText.Visible = false
Pug.FPSText.Text = "FPS: 0"
Pug.FPSText.ZIndex = 1000

local lastTime = tick()
local frameCount = 0
local currentFPS = 0

RunService.RenderStepped:Connect(function()
    frameCount = frameCount + 1
    local currentTime = tick()
    if currentTime - lastTime >= 1 then
        currentFPS = frameCount
        frameCount = 0
        lastTime = currentTime
        Pug.FPSText.Text = "FPS: " .. tostring(currentFPS)
    end

    if Pug.FPSText.Visible then
        local textWidth = 70
        Pug.FPSText.Position = Vector2.new(Camera.ViewportSize.X - textWidth, 10)
    end
end)

Pug.TabConfigs:Toggle({
    Title = "Mostrar FPS",
    Description = "Exibe contador de FPS no canto superior direito",
    Desc = "Mostra quantos frames por segundo o jogo est√° rodando em tempo real",
    Default = false,
    Callback = function(v)
        Pug.FPSText.Visible = v
    end
})

Pug.TabConfigs:Divider({Text = "Hit Sound"})

Pug.TabConfigs:Toggle({
    Title = "Ativar Hit Sound",
    Description = "Substitui o som de acerto do jogo",
    Desc = "Troca o som que toca quando voc√™ acerta/elimina um inimigo",
    Default = false,
    Callback = function(v)
        Pug.HitSoundEnabled = v
        Pug.ReplaceAllHitSounds()
    end
})

Pug.TabConfigs:Dropdown({
    Title = "Escolher Som",
    Desc = "Selecione qual som ser√° reproduzido quando acertar um inimigo",
    Values = {
        { Title = "üîî Bell", Icon = "bell" },
        { Title = "üíÄ Bameware", Icon = "skull" },
        { Title = "üéØ Skeet", Icon = "target" },
        { Title = "üî´ Cod Hitmarker", Icon = "crosshair" },
        { Title = "‚ö° Neverlose", Icon = "zap" },
        { Title = "üíé Minecraft", Icon = "box" }
    },
    Value = "üîî Bell",
    Callback = function(option)
        local soundID = Pug.HitSounds[option.Title]
        if soundID then
            Pug.HitSoundID = soundID
            Pug.ReplaceAllHitSounds()
            Pug.Window:Notify({
                Title = "Hit Sound",
                Description = "Som alterado para " .. option.Title,
                Duration = 2
            })
        end
    end
})

Pug.TabConfigs:Slider({
    Title = "Volume do Hit Sound",
    Desc = "Ajusta o volume do som (0.1 = baixo, 2.0 = alto)",
    Step = 0.1,
    Value = {
        Min = 0.1,
        Max = 2.0,
        Default = 0.5,
    },
    Callback = function(value)
        Pug.HitSoundVolume = value
        Pug.ReplaceAllHitSounds()
    end
})

Pug.TabConfigs:Divider({Text = "Sky Time (Hor√°rio do C√©u)"})

Pug.TabConfigs:Dropdown({
    Title = "Hor√°rio do C√©u",
    Desc = "Altera a ilumina√ß√£o do ambiente para diferentes per√≠odos do dia",
    Values = {
        {
            Title = "‚òÄÔ∏è Dia",
            Icon = "sun"
        },
        {
            Title = "üåô Noite",
            Icon = "moon"
        },
        {
            Title = "üåÖ Anoitecer",
            Icon = "sunset"
        },
    },
    Value = "‚òÄÔ∏è Dia",
    Callback = function(option)
        if option.Title == "‚òÄÔ∏è Dia" then
            Lighting.ClockTime = 14
            Lighting.Brightness = 2
            Pug.Window:Notify({
                Title = "Sky Time",
                Description = "Hor√°rio mudado para Dia ‚òÄÔ∏è",
                Duration = 2
            })
        elseif option.Title == "üåô Noite" then
            Lighting.ClockTime = 0
            Lighting.Brightness = 1.5
            Lighting.Ambient = Color3.fromRGB(150, 150, 150)
            Lighting.OutdoorAmbient = Color3.fromRGB(180, 180, 180)
            Pug.Window:Notify({
                Title = "Sky Time",
                Description = "Hor√°rio mudado para Noite üåô (C√©u escuro, ambiente claro)",
                Duration = 2
            })
        elseif option.Title == "üåÖ Anoitecer" then
            Lighting.ClockTime = 17
            Lighting.Brightness = 1
            Pug.Window:Notify({
                Title = "Sky Time",
                Description = "Hor√°rio mudado para Anoitecer üåÖ",
                Duration = 2
            })
        end
    end
})

Pug.TabConfigs:Divider({Text = "‚ö†Ô∏è AVISO ‚ö†Ô∏è"})

Pug.TabConfigs:Paragraph({
    Title = "‚ö†Ô∏è MAIS FUN√á√ïES EM BREVE! ‚ö†Ô∏è",
    Description = "Estamos trabalhando em novas funcionalidades incr√≠veis para o Pug's HUB! Fique ligado nas pr√≥ximas atualiza√ß√µes."
})

-- ============================================
-- FUN√á√ÉO DE ATUALIZAR ESP
-- ============================================

function Pug.UpdateESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local shouldRemoveESP = false

            if not player.Character then
                shouldRemoveESP = true
            else
                local char = player.Character
                local humanoid = char:FindFirstChild("Humanoid")
                local rootPart = char:FindFirstChild("HumanoidRootPart")
                local head = char:FindFirstChild("Head")

                if not humanoid or humanoid.Health <= 0 or not rootPart or not head then
                    shouldRemoveESP = true
                else
                    local localChar = LocalPlayer.Character
                    if localChar and localChar:FindFirstChild("HumanoidRootPart") then
                        local distance = (rootPart.Position - localChar.HumanoidRootPart.Position).Magnitude
                        if distance > 1000 then
                            shouldRemoveESP = true
                        end
                    end
                end
            end

            if shouldRemoveESP then
                Pug.RemoveESP(player)
            elseif player.Character then
                Pug.CreateESP(player)

                local char = player.Character
                local rootPart = char:FindFirstChild("HumanoidRootPart")
                local head = char:FindFirstChild("Head")

                if rootPart and head then
                    -- ESP Box
                    if Pug.ESPSettings.Outline.Enabled then
                        if #Pug.ESPObjects[player].Outline == 0 then
                            for i = 1, 4 do
                                local line = Drawing.new("Line")
                                line.Thickness = 2
                                line.Transparency = 1
                                table.insert(Pug.ESPObjects[player].Outline, line)
                            end
                        end

                        local pos, onScreen = Camera:WorldToViewportPoint(rootPart.Position)
                        if onScreen then
                            local headPos = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 0.5, 0))
                            local legPos = Camera:WorldToViewportPoint(rootPart.Position - Vector3.new(0, 3, 0))
                            local height = math.abs(headPos.Y - legPos.Y)
                            local width = height / 2

                            Pug.ESPObjects[player].Outline[1].From = Vector2.new(pos.X - width, headPos.Y)
                            Pug.ESPObjects[player].Outline[1].To = Vector2.new(pos.X + width, headPos.Y)
                            Pug.ESPObjects[player].Outline[1].Color = Pug.ESPSettings.Outline.Color
                            Pug.ESPObjects[player].Outline[1].Visible = true

                            Pug.ESPObjects[player].Outline[2].From = Vector2.new(pos.X - width, legPos.Y)
                            Pug.ESPObjects[player].Outline[2].To = Vector2.new(pos.X + width, legPos.Y)
                            Pug.ESPObjects[player].Outline[2].Color = Pug.ESPSettings.Outline.Color
                            Pug.ESPObjects[player].Outline[2].Visible = true

                            Pug.ESPObjects[player].Outline[3].From = Vector2.new(pos.X - width, headPos.Y)
                            Pug.ESPObjects[player].Outline[3].To = Vector2.new(pos.X - width, legPos.Y)
                            Pug.ESPObjects[player].Outline[3].Color = Pug.ESPSettings.Outline.Color
                            Pug.ESPObjects[player].Outline[3].Visible = true

                            Pug.ESPObjects[player].Outline[4].From = Vector2.new(pos.X + width, headPos.Y)
                            Pug.ESPObjects[player].Outline[4].To = Vector2.new(pos.X + width, legPos.Y)
                            Pug.ESPObjects[player].Outline[4].Color = Pug.ESPSettings.Outline.Color
                            Pug.ESPObjects[player].Outline[4].Visible = true
                        else
                            for _, line in pairs(Pug.ESPObjects[player].Outline) do
                                line.Visible = false
                            end
                        end
                    else
                        for _, line in pairs(Pug.ESPObjects[player].Outline) do
                            line.Visible = false
                        end
                    end

                    -- ESP Name com Dist√¢ncia
                    if Pug.ESPSettings.Name.Enabled then
                        if not Pug.ESPObjects[player].Name then
                            Pug.ESPObjects[player].Name = Drawing.new("Text")
                            Pug.ESPObjects[player].Name.Center = true
                            Pug.ESPObjects[player].Name.Outline = true
                            Pug.ESPObjects[player].Name.Size = 13
                        end

                        local pos, onScreen = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 1.5, 0))

                        local localChar = LocalPlayer.Character
                        local distance = 0
                        if localChar and localChar:FindFirstChild("HumanoidRootPart") then
                            distance = (rootPart.Position - localChar.HumanoidRootPart.Position).Magnitude
                        end

                        local distanceText = string.format("%dm", math.floor(distance))
                        Pug.ESPObjects[player].Name.Text = player.Name .. " | " .. distanceText

                        Pug.ESPObjects[player].Name.Position = Vector2.new(pos.X, pos.Y)
                        Pug.ESPObjects[player].Name.Color = Pug.ESPSettings.Name.Color
                        Pug.ESPObjects[player].Name.Visible = onScreen
                    elseif Pug.ESPObjects[player].Name then
                        Pug.ESPObjects[player].Name.Visible = false
                    end

                    -- ESP Skeleton
                    if Pug.ESPSettings.Skeleton.Enabled then
                        if #Pug.ESPObjects[player].Skeleton == 0 then
                            for i = 1, 5 do
                                local line = Drawing.new("Line")
                                line.Thickness = 1
                                line.Transparency = 1
                                table.insert(Pug.ESPObjects[player].Skeleton, line)
                            end
                        end

                        local torso = char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")
                        local leftArm = char:FindFirstChild("Left Arm") or char:FindFirstChild("LeftUpperArm")
                        local rightArm = char:FindFirstChild("Right Arm") or char:FindFirstChild("RightUpperArm")
                        local leftLeg = char:FindFirstChild("Left Leg") or char:FindFirstChild("LeftUpperLeg")
                        local rightLeg = char:FindFirstChild("Right Leg") or char:FindFirstChild("RightUpperLeg")

                        if torso then
                            local headP, headOnScreen = Camera:WorldToViewportPoint(head.Position)
                            local torsoP, torsoOnScreen = Camera:WorldToViewportPoint(torso.Position)

                            if headOnScreen and torsoOnScreen then
                                Pug.ESPObjects[player].Skeleton[1].From = Vector2.new(headP.X, headP.Y)
                                Pug.ESPObjects[player].Skeleton[1].To = Vector2.new(torsoP.X, torsoP.Y)
                                Pug.ESPObjects[player].Skeleton[1].Color = Pug.ESPSettings.Skeleton.Color
                                Pug.ESPObjects[player].Skeleton[1].Visible = true

                                if leftArm then
                                    local armP, armOnScreen = Camera:WorldToViewportPoint(leftArm.Position)
                                    if armOnScreen then
                                        Pug.ESPObjects[player].Skeleton[2].From = Vector2.new(torsoP.X, torsoP.Y)
                                        Pug.ESPObjects[player].Skeleton[2].To = Vector2.new(armP.X, armP.Y)
                                        Pug.ESPObjects[player].Skeleton[2].Color = Pug.ESPSettings.Skeleton.Color
                                        Pug.ESPObjects[player].Skeleton[2].Visible = true
                                    else
                                        Pug.ESPObjects[player].Skeleton[2].Visible = false
                                    end
                                end

                                if rightArm then
                                    local armP, armOnScreen = Camera:WorldToViewportPoint(rightArm.Position)
                                    if armOnScreen then
                                        Pug.ESPObjects[player].Skeleton[3].From = Vector2.new(torsoP.X, torsoP.Y)
                                        Pug.ESPObjects[player].Skeleton[3].To = Vector2.new(armP.X, armP.Y)
                                        Pug.ESPObjects[player].Skeleton[3].Color = Pug.ESPSettings.Skeleton.Color
                                        Pug.ESPObjects[player].Skeleton[3].Visible = true
                                    else
                                        Pug.ESPObjects[player].Skeleton[3].Visible = false
                                    end
                                end

                                if leftLeg then
                                    local legP, legOnScreen = Camera:WorldToViewportPoint(leftLeg.Position)
                                    if legOnScreen then
                                        Pug.ESPObjects[player].Skeleton[4].From = Vector2.new(torsoP.X, torsoP.Y)
                                        Pug.ESPObjects[player].Skeleton[4].To = Vector2.new(legP.X, legP.Y)
                                        Pug.ESPObjects[player].Skeleton[4].Color = Pug.ESPSettings.Skeleton.Color
                                        Pug.ESPObjects[player].Skeleton[4].Visible = true
                                    else
                                        Pug.ESPObjects[player].Skeleton[4].Visible = false
                                    end
                                end

                                if rightLeg then
                                    local legP, legOnScreen = Camera:WorldToViewportPoint(rightLeg.Position)
                                    if legOnScreen then
                                        Pug.ESPObjects[player].Skeleton[5].From = Vector2.new(torsoP.X, torsoP.Y)
                                        Pug.ESPObjects[player].Skeleton[5].To = Vector2.new(legP.X, legP.Y)
                                        Pug.ESPObjects[player].Skeleton[5].Color = Pug.ESPSettings.Skeleton.Color
                                        Pug.ESPObjects[player].Skeleton[5].Visible = true
                                    else
                                        Pug.ESPObjects[player].Skeleton[5].Visible = false
                                    end
                                end
                            else
                                for _, line in pairs(Pug.ESPObjects[player].Skeleton) do
                                    line.Visible = false
                                end
                            end
                        else
                            for _, line in pairs(Pug.ESPObjects[player].Skeleton) do
                                line.Visible = false
                            end
                        end
                    else
                        for _, line in pairs(Pug.ESPObjects[player].Skeleton) do
                            line.Visible = false
                        end
                    end

                    -- ESP Tracer
                    if Pug.ESPSettings.Tracer.Enabled then
                        if not Pug.ESPObjects[player].Tracer then
                            Pug.ESPObjects[player].Tracer = Drawing.new("Line")
                            Pug.ESPObjects[player].Tracer.Thickness = 1
                            Pug.ESPObjects[player].Tracer.Transparency = 1
                        end

                        local pos, onScreen = Camera:WorldToViewportPoint(rootPart.Position)
                        Pug.ESPObjects[player].Tracer.From = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y)
                        Pug.ESPObjects[player].Tracer.To = Vector2.new(pos.X, pos.Y)
                        Pug.ESPObjects[player].Tracer.Color = Pug.ESPSettings.Tracer.Color
                        Pug.ESPObjects[player].Tracer.Visible = onScreen
                    elseif Pug.ESPObjects[player].Tracer then
                        Pug.ESPObjects[player].Tracer.Visible = false
                    end
                end
            end
        end
    end
end

-- ============================================
-- FUN√á√ÉO PARA APLICAR THIRDPERSON
-- ============================================

function Pug.ApplyThirdPerson()
    if Pug.ThirdPersonEnabled then
        LocalPlayer.CameraMode = Enum.CameraMode.Classic
        LocalPlayer.CameraMaxZoomDistance = 15
        LocalPlayer.CameraMinZoomDistance = 10
    else
        LocalPlayer.CameraMode = Enum.CameraMode.LockFirstPerson
    end
end

-- ============================================
-- DETECTAR RESPAWN E REAPLICAR CONFIGURA√á√ïES
-- ============================================

LocalPlayer.CharacterAdded:Connect(function(character)
    wait(0.5)
    
    -- Reaplicar Third Person
    Pug.ApplyThirdPerson()
    
    -- Reaplicar Speed
    if Pug.SpeedEnabled then
        local humanoid = character:WaitForChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = Pug.SpeedValue
        end
    end
end)

-- ============================================
-- LOOP PRINCIPAL
-- ============================================

RunService.RenderStepped:Connect(function()
    -- Atualizar FOV Circle
    if Pug.FOVCircle and Pug.FOVCircle.Frame then
        Pug.FOVCircle.Frame.Position = UDim2.new(0.5, 0, 0.5, 0)
        Pug.FOVCircle.Frame.Visible = Pug.FOVEnabled
    end

    -- Aplicar FOV customizado continuamente
    if Pug.CustomFOVEnabled then
        Camera.FieldOfView = Pug.CustomFOV
    end

    if Pug.AimbotEnabled then
        local target = Pug.GetClosestPlayer()
        if target and target.Character then
            local targetPart = target.Character:FindFirstChild("Head")
            if targetPart then
                local targetPos = targetPart.Position
                local cameraPos = Camera.CFrame.Position
                local targetCFrame = CFrame.new(cameraPos, targetPos)
                Camera.CFrame = Camera.CFrame:Lerp(targetCFrame, 1 / Pug.SmoothAim)
            end
        end
    end

    if Pug.SpeedEnabled then
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            if char.Humanoid.WalkSpeed ~= Pug.SpeedValue then
                char.Humanoid.WalkSpeed = Pug.SpeedValue
            end
        end
    end

    if Pug.BunnyHopEnabled then
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            local hum = char.Humanoid
            local state = hum:GetState()
            if state ~= Enum.HumanoidStateType.Freefall and state ~= Enum.HumanoidStateType.Flying then
                hum:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end
    end

    if Pug.SpinBotEnabled then
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("HumanoidRootPart") then
            local rootPart = char.HumanoidRootPart
            rootPart.CFrame = rootPart.CFrame * CFrame.Angles(0, math.rad(Pug.SpinBotSpeed), 0)
        end
    end

    pcall(Pug.UpdateESP)
end)

-- ============================================
-- NOTIFICA√á√ÉO DE CARREGAMENTO
-- ============================================

WindUI:Notify({
    Title = "Pug's HUB CARREGADO",
    Content = "Pug's HUB CARREGADO COM SUCESSO! SE DIVIRTA üî•",
    Duration = 4,
    Icon = "skull",
})

print("Pug's HUB | FPS FLICK üî• V1.6 - Carregado com sucesso! üíÄüî¥üì±")
